<script>
  // Kullanıcı daha önce giriş yapmamışsa login.html'e yönlendir
  if (!localStorage.getItem("isLoggedIn")) {
    window.location.href = "login.html";
  }
</script>

<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ana Sayfa | Finans Takip</title>
  <link rel="stylesheet" href="style.css" />
  <!-- İkon istersen proje köküne icon.png koy -->
  <!-- <link rel="icon" type="image/png" href="icon.png">
  <link rel="apple-touch-icon" href="icon.png"> -->
</head>
<body>
  <header class="main-header">
    <h1>💼 Finans Özeti</h1>
    <button onclick="window.location.href='details.html'">➕ Detaylar</button>
  </header>

  <div class="summary-container">
    <div class="summary-item">
      <p>Toplam Maaş</p>
      <h2><span id="totalSalary">0</span> ₺</h2>
    </div>
    <div class="summary-item">
      <p>Toplam Gider</p>
      <h2><span id="totalExpense">0</span> ₺</h2>
    </div>
    <div class="summary-item">
      <p>Kalan Bakiye</p>
      <h2><span id="remaining">0</span> ₺</h2>
    </div>
    <div class="summary-item">
      <p>Yaklaşan Taksitler</p>
      <ul id="upcomingDebts"></ul>
    </div>
    <div class="summary-item">
      <p>Gelecek Para</p>
      <h2><span id="totalIncomingHome">0</span> ₺</h2>
    </div>

    <!-- Maaş Günü Geri Sayım -->
    <div class="summary-item">
      <p>Maaş Günü</p>
      <h2 id="paydayHeadline"><span id="paydayCountdown">–</span></h2>
      <small id="paydayNextDate" style="opacity:.75"></small>
    </div>
  </div>

  <section class="gold-container">
    <h3>💰 Altın Takibi</h3>

    <label for="goldPrice">Gram Altın Fiyatı (₺):</label>
    <input type="number" id="goldPrice" placeholder="Örn: 2800" step="0.01" />
    <small style="display:block;margin:6px 0 12px;opacity:.75">
      Fiyatı değiştirdiğinde yeni ekleyeceğin kayıtlara uygulanır (mevcut kayıtlar değişmez).
    </small>

    <label for="goldInput">Yeni Altın (gram):</label>
    <input type="number" id="goldInput" placeholder="Örn: 2.5" step="0.01" />
    <button onclick="addGold()">Ekle</button>

    <ul id="goldList"></ul>

    <div class="summary-item">
      <p>Toplam Altın: <span id="totalGoldGram">0</span> gr</p>
      <p>Toplam Değer: <span id="totalGoldValue">0</span> ₺</p>
    </div>
  </section>

  <script src="script.js"></script>
</body>
</html>